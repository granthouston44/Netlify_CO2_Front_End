{"remainingRequest":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/src/components/DateHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/src/components/DateHistory.vue","mtime":1579270632397},{"path":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/granthouston/Documents/codeclan_work/week_08/day_4/CO2_Footprint_Calculator/CO2_Footprint_Calculator/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IEJyZWFrZG93biBmcm9tICcuL0JyZWFrZG93bi52dWUnOwogIGltcG9ydCB7ZXZlbnRCdXN9IGZyb20gJy4uL21haW4uanMnOwogIGltcG9ydCBIb3RlbFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9Vc2VyRGF0YVNlcnZpY2UnOwogIGltcG9ydCB7Q2hhcnR9IGZyb20gJ2hpZ2hjaGFydHMtdnVlJwogIGltcG9ydCBIaWdoY2hhcnRzIGZyb20gJ2hpZ2hjaGFydHMnCiAgaW1wb3J0IGRyaWxsZG93biBmcm9tICdoaWdoY2hhcnRzL21vZHVsZXMvZHJpbGxkb3duJwogIGRyaWxsZG93bihIaWdoY2hhcnRzKQogIGV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbJ2Zvb3RwcmludHMnXSwKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuewogICAgICAgIC8vIHNob3c6IHRydWUsCiAgICAgICAgc2VsZWN0ZWREYXRlOiBudWxsLAogICAgICAgIGNoYXJ0T3B0aW9uczp7CiAgICAgICAgICBjaGFydDogewogICAgICAgICAgICB0eXBlOiAncGllJwogICAgICAgICAgfSwKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB9LAogICAgICAgICAgc3VidGl0bGU6IHsKICAgICAgICAgICAgdGV4dDogJ0NsaWNrIHRoZSBzbGljZXMgdG8gdmlldyBhIGJyZWFrZG93biBvZiB5b3VyIGZvb3RwcmludCcKICAgICAgICAgIH0sCiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7CiAgICAgICAgICAgIGFubm91bmNlTmV3RGF0YTogewogICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9pbnQ6IHsKICAgICAgICAgICAgICB2YWx1ZVN1ZmZpeDogJyUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBwbG90T3B0aW9uczogewogICAgICAgICAgICBzZXJpZXM6IHsKICAgICAgICAgICAgICBkYXRhTGFiZWxzOiB7CiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgZm9ybWF0OiAne3BvaW50Lm5hbWV9OiB7cG9pbnQueTouMWZ9JScKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgIGhlYWRlckZvcm1hdDogJzxzcGFuIHN0eWxlPSJmb250LXNpemU6MTFweCI+e3Nlcmllcy5uYW1lfTwvc3Bhbj48YnI+JywKICAgICAgICAgICAgcG9pbnRGb3JtYXQ6ICc8c3BhbiBzdHlsZT0iY29sb3I6e3BvaW50LmNvbG9yfSI+e3BvaW50Lm5hbWV9PC9zcGFuPjogPGI+e3BvaW50Lnk6LjJmfSU8L2I+IG9mIFRvdGFsIEZvb3RwcmludDxici8+JwogICAgICAgICAgfSwKICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbmFtZTogIkZvb3RwcmludCIsCiAgICAgICAgICAgICAgY29sb3JCeVBvaW50OiB0cnVlLAogICAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBkcmlsbGRvd246IHsKICAgICAgICAgICAgc2VyaWVzOiBbCiAgICAgICAgICAgIF0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnsKICAgICAgJ2JyZWFrZG93bic6IEJyZWFrZG93biwKICAgICAgaGlnaGNoYXJ0czogQ2hhcnQKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGhhbmRsZUNoYW5nZShlKXsKICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucy5zZXJpZXNbMF0uZGF0YS5sZW5ndGggPSAwCiAgICAgICAgdGhpcy5jaGFydE9wdGlvbnMudGl0bGUgPSB7dGV4dDogYENPMiBGb290cHJpbnQgZm9yICR7dGhpcy5zZWxlY3RlZERhdGUuZGF0ZX1gfQogICAgICAgIHRoaXMucGVyY2VudGFnZSgpCiAgICAgICAgLy8gdGhpcy5zaG93CiAgICAgIH0sCiAgICAgIHBlcmNlbnRhZ2UoKXsKCiAgICAgICAgbGV0IHRyYXZlbFBlcmNlbnRhZ2UgPSAodGhpcy5zZWxlY3RlZERhdGUudHJhdmVsVG90YWwgLyB0aGlzLnNlbGVjdGVkRGF0ZS5jb21iaW5lZFRvdGFsKSAqIDEwMAogICAgICAgIGxldCBlbmVyZ3lQZXJjZW50YWdlID0gKHRoaXMuc2VsZWN0ZWREYXRlLmVuZXJneVRvdGFsIC90aGlzLnNlbGVjdGVkRGF0ZS5jb21iaW5lZFRvdGFsKSAqIDEwMAogICAgICAgIGxldCBkaWV0UGVyY2VudGFnZSA9ICh0aGlzLnNlbGVjdGVkRGF0ZS5kaWV0VG90YWwgLyB0aGlzLnNlbGVjdGVkRGF0ZS5jb21iaW5lZFRvdGFsKSAqIDEwMAogICAgICAgIC8vZHJpbGxkb3duCiAgICAgICAgbGV0IHRyYXZlbERyaWxsQ2FyID0gKHRoaXMuc2VsZWN0ZWREYXRlLmNhciAvIHRoaXMuc2VsZWN0ZWREYXRlLnRyYXZlbFRvdGFsKSAqIDEwMAogICAgICAgIGxldCB0cmF2ZWxEcmlsbFRyYWluID0gKHRoaXMuc2VsZWN0ZWREYXRlLnRyYWluIC8gdGhpcy5zZWxlY3RlZERhdGUudHJhdmVsVG90YWwpICogMTAwCiAgICAgICAgbGV0IHRyYXZlbERyaWxsUGxhbmUgPSAodGhpcy5zZWxlY3RlZERhdGUucGxhbmUgLyB0aGlzLnNlbGVjdGVkRGF0ZS50cmF2ZWxUb3RhbCkgKiAxMDAKICAgICAgICBsZXQgZW5lcmd5RHJpbGxFbGVjdHJpY2l0eSA9ICh0aGlzLnNlbGVjdGVkRGF0ZS5lbGVjdHJpY2l0eSAvIHRoaXMuc2VsZWN0ZWREYXRlLmVuZXJneVRvdGFsKSAqIDEwMAogICAgICAgIGxldCBlbmVyZ3lEcmlsbEdhcyA9ICh0aGlzLnNlbGVjdGVkRGF0ZS5nYXMgLyB0aGlzLnNlbGVjdGVkRGF0ZS5lbmVyZ3lUb3RhbCkgKiAxMDAKICAgICAgICBsZXQgZW5lcmd5RHJpbGxIeWJyaWQgPSAodGhpcy5zZWxlY3RlZERhdGUuaHlicmlkIC8gdGhpcy5zZWxlY3RlZERhdGUuZW5lcmd5VG90YWwpICogMTAwCiAgICAgICAgbGV0IGRpZXREcmlsbE1lYXQgPSAodGhpcy5zZWxlY3RlZERhdGUubWVhdCAvIHRoaXMuc2VsZWN0ZWREYXRlLmRpZXRUb3RhbCkgKiAxMDAKICAgICAgICBsZXQgZGlldERyaWxsVmVnID0gKHRoaXMuc2VsZWN0ZWREYXRlLnZlZyAvIHRoaXMuc2VsZWN0ZWREYXRlLmRpZXRUb3RhbCkgKiAxMDAKICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucy5zZXJpZXNbMF0uZGF0YS5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJUcmF2ZWwiLAogICAgICAgICAgeTogdHJhdmVsUGVyY2VudGFnZSwKICAgICAgICAgIGRyaWxsZG93bjogIlRyYXZlbCIKICAgICAgICB9KQogICAgICAgIHRoaXMuY2hhcnRPcHRpb25zLnNlcmllc1swXS5kYXRhLnB1c2goewogICAgICAgICAgbmFtZTogIkVuZXJneSIsCiAgICAgICAgICB5OiBlbmVyZ3lQZXJjZW50YWdlLAogICAgICAgICAgZHJpbGxkb3duOiAiRW5lcmd5IgogICAgICAgIH0pCiAgICAgICAgdGhpcy5jaGFydE9wdGlvbnMuc2VyaWVzWzBdLmRhdGEucHVzaCh7CiAgICAgICAgICBuYW1lOiAiRGlldCIsCiAgICAgICAgICB5OiBkaWV0UGVyY2VudGFnZSwKICAgICAgICAgIGRyaWxsZG93bjogIkRpZXQiCiAgICAgICAgfSkKICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucy5kcmlsbGRvd24uc2VyaWVzLnB1c2goCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJUcmF2ZWwiLAogICAgICAgICAgICBpZDogIlRyYXZlbCIsCiAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICBbIkNhciIsCiAgICAgICAgICAgICAgdHJhdmVsRHJpbGxDYXIKICAgICAgICAgICAgXSwKICAgICAgICAgICAgWyJUcmFpbiIsCiAgICAgICAgICAgIHRyYXZlbERyaWxsVHJhaW5dLAogICAgICAgICAgICBbIlBsYW5lIiwKICAgICAgICAgICAgdHJhdmVsRHJpbGxQbGFuZV0KICAgICAgICAgIF0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICJFbmVyZ3kiLAogICAgICAgICAgaWQ6ICJFbmVyZ3kiLAogICAgICAgICAgZGF0YTogWwogICAgICAgICAgICBbIkVsZWN0cmljaXR5IiwKICAgICAgICAgICAgZW5lcmd5RHJpbGxFbGVjdHJpY2l0eQogICAgICAgICAgXSwKICAgICAgICAgIFsiR2FzIiwKICAgICAgICAgIGVuZXJneURyaWxsR2FzXSwKICAgICAgICAgIFsiSHlicmlkIiwKICAgICAgICAgIGVuZXJneURyaWxsSHlicmlkXQogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgIG5hbWU6ICJEaWV0IiwKICAgICAgICBpZDogIkRpZXQiLAogICAgICAgIGRhdGE6IFsKICAgICAgICAgIFsiTWVhdCIsCiAgICAgICAgICBkaWV0RHJpbGxNZWF0CiAgICAgICAgXSwKICAgICAgICBbIlZlZyIsCiAgICAgICAgZGlldERyaWxsVmVnXQogICAgICBdCiAgICB9CiAgKQp9Cn0sCgp9CgoK"},{"version":3,"sources":["DateHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"DateHistory.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"dropdown\">\n    <div class=\"dropdown_label\">\n      <label for=\"api-thing\"><b>Choose a previous date: </b></label>\n      <select class=\"dropdown\" @change=\"handleChange\" id=\"api-thing\"v-model=\"selectedDate\">\n        <option disabled selected value> -- select an option -- </option>\n        <option v-for=\"(foot, index) of footprints\" :key=\"index\" :value=\"foot\">\n          Footprint for {{foot.date}}\n        </option>\n\n      </select>\n      <div class=\"breakdown_chart\">\n        <breakdown :breakdown=\"selectedDate\" :chartProp=\"chartOptions\"/>\n        <div class=\"please\">\n          <highcharts v-if=\"chartOptions.series[0].data.length > 0\" :options=\"chartOptions\"/>\n        </div>\n      </div>\n      </div>\n  </div>\n  </template>\n\n  <script>\n  import Breakdown from './Breakdown.vue';\n  import {eventBus} from '../main.js';\n  import HotelService from '@/services/UserDataService';\n  import {Chart} from 'highcharts-vue'\n  import Highcharts from 'highcharts'\n  import drilldown from 'highcharts/modules/drilldown'\n  drilldown(Highcharts)\n  export default {\n    props: ['footprints'],\n    data(){\n      return{\n        // show: true,\n        selectedDate: null,\n        chartOptions:{\n          chart: {\n            type: 'pie'\n          },\n          title: {\n          },\n          subtitle: {\n            text: 'Click the slices to view a breakdown of your footprint'\n          },\n          accessibility: {\n            announceNewData: {\n              enabled: true\n            },\n            point: {\n              valueSuffix: '%'\n            }\n          },\n          plotOptions: {\n            series: {\n              dataLabels: {\n                enabled: true,\n                format: '{point.name}: {point.y:.1f}%'\n              }\n            }\n          },\n          tooltip: {\n            headerFormat: '<span style=\"font-size:11px\">{series.name}</span><br>',\n            pointFormat: '<span style=\"color:{point.color}\">{point.name}</span>: <b>{point.y:.2f}%</b> of Total Footprint<br/>'\n          },\n          series: [\n            {\n              name: \"Footprint\",\n              colorByPoint: true,\n              data: [\n              ]\n            }\n          ],\n          drilldown: {\n            series: [\n            ]\n          }\n        }\n      }\n    },\n    components:{\n      'breakdown': Breakdown,\n      highcharts: Chart\n    },\n    methods: {\n      handleChange(e){\n        this.chartOptions.series[0].data.length = 0\n        this.chartOptions.title = {text: `CO2 Footprint for ${this.selectedDate.date}`}\n        this.percentage()\n        // this.show\n      },\n      percentage(){\n\n        let travelPercentage = (this.selectedDate.travelTotal / this.selectedDate.combinedTotal) * 100\n        let energyPercentage = (this.selectedDate.energyTotal /this.selectedDate.combinedTotal) * 100\n        let dietPercentage = (this.selectedDate.dietTotal / this.selectedDate.combinedTotal) * 100\n        //drilldown\n        let travelDrillCar = (this.selectedDate.car / this.selectedDate.travelTotal) * 100\n        let travelDrillTrain = (this.selectedDate.train / this.selectedDate.travelTotal) * 100\n        let travelDrillPlane = (this.selectedDate.plane / this.selectedDate.travelTotal) * 100\n        let energyDrillElectricity = (this.selectedDate.electricity / this.selectedDate.energyTotal) * 100\n        let energyDrillGas = (this.selectedDate.gas / this.selectedDate.energyTotal) * 100\n        let energyDrillHybrid = (this.selectedDate.hybrid / this.selectedDate.energyTotal) * 100\n        let dietDrillMeat = (this.selectedDate.meat / this.selectedDate.dietTotal) * 100\n        let dietDrillVeg = (this.selectedDate.veg / this.selectedDate.dietTotal) * 100\n        this.chartOptions.series[0].data.push({\n          name: \"Travel\",\n          y: travelPercentage,\n          drilldown: \"Travel\"\n        })\n        this.chartOptions.series[0].data.push({\n          name: \"Energy\",\n          y: energyPercentage,\n          drilldown: \"Energy\"\n        })\n        this.chartOptions.series[0].data.push({\n          name: \"Diet\",\n          y: dietPercentage,\n          drilldown: \"Diet\"\n        })\n        this.chartOptions.drilldown.series.push(\n          {\n            name: \"Travel\",\n            id: \"Travel\",\n            data: [\n              [\"Car\",\n              travelDrillCar\n            ],\n            [\"Train\",\n            travelDrillTrain],\n            [\"Plane\",\n            travelDrillPlane]\n          ]\n        },\n        {\n          name: \"Energy\",\n          id: \"Energy\",\n          data: [\n            [\"Electricity\",\n            energyDrillElectricity\n          ],\n          [\"Gas\",\n          energyDrillGas],\n          [\"Hybrid\",\n          energyDrillHybrid]\n        ]\n      },\n      {\n        name: \"Diet\",\n        id: \"Diet\",\n        data: [\n          [\"Meat\",\n          dietDrillMeat\n        ],\n        [\"Veg\",\n        dietDrillVeg]\n      ]\n    }\n  )\n}\n},\n\n}\n\n\n</script>\n<style lang=\"css\" scoped>\n.dropdown{\n  cursor: pointer;\n}\n\n.breakdown_chart{\n  display: flex;\n}\n\n.highcharts-container{\n  position: relative;\n    overflow: hidden;\n    width: 450px;\n    height: 651px;\n    text-align: left;\n    line-height: normal;\n    z-index: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    margin: 25px;\n    width: 500px;\n    padding-top: 25px;\n}\n\n#highcharts-qw53ocy-6{\n  position: relative;\n    overflow: hidden;\n    width: 450px;\n    height: 651px;\n    text-align: left;\n    line-height: normal;\n    z-index: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    margin: 25px;\n    width: 500px;\n    padding-top: 25px;\n}\n\n.please{\n  margin:25px;\n}\n\n</style>\n"]}]}